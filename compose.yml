services:
  marine-licensing-frontend:
    build: ./
    ports:
      - '3000:3000'
    env_file:
      - 'compose/aws.env'
    environment:
      PORT: 3000
      NODE_ENV: development
      USE_SINGLE_INSTANCE_CACHE: true
      MARINE_LICENSING_BACKEND_API_URL: http://marine-licensing-backend:3001
      DEFRA_ID_ENABLED: ${DEFRA_ID_ENABLED}
      DEFRA_ID_OIDC_CONFIGURATION_URL: https://cdp-defra-id-stub.dev.cdp-int.defra.cloud/cdp-defra-id-stub/.well-known/openid-configuration
      DEFRA_ID_CLIENT_ID: 2fb0d715-affa-4bf1-836e-44a464e3fbea
      DEFRA_ID_SERVICE_ID: d7d72b79-9c62-ee11-8df0-000d3adf7047
      DEFRA_ID_CLIENT_SECRET: ${DEFRA_ID_CLIENT_SECRET}
    networks:
      - cdp-tenant

networks:
  cdp-tenant:
    external: true
    driver: bridge
